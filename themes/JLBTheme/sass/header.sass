@import 'variables'

// Header Styling
header
  position: fixed
  width: 100%
  top: 0
  left: 0
  transition: 0.25s
  z-index: 999
  .header
    +fb(center, space-between)
    padding: 1rem 2rem
    .header-content
      width: 20%
      .logo-container
        height: 100%
        width: 100%
        .logo
          +bg(contain, center)
          height: 5rem
    .header-nav
      width: 80%
      .menu
        +fb(center, flex-end)
        padding: 0
        margin: 0
        list-style: none
        .menu-item
          margin: 0 0.25rem
          a
            display: inline-block
            padding: 0.5rem
        .menu-item-has-children.rotate
          &:after
            transform: rotate(180deg) translateY(50%)
            transform-origin: center
        .menu-item-has-children
          position: relative
          +fb(center, center)
          &:after
            content: '\f107'
            font-family: 'Font Awesome 5 Pro'
            +fb(center, center)
            cursor: pointer
            position: absolute
            top: 50%
            right: 0.25rem
            transform: translateY(-50%)
            transition: 0.25s
          .sub-menu.scrollMenu
            // on scroll sub menu
          .sub-menu.active
            opacity: 1
            pointer-events: auto
          .sub-menu
            opacity: 0
            pointer-events: none
            position: absolute
            left: 0
            bottom: 0
            transform: translateY(100%)
            padding: 0
            .menu-item
              margin: 0
              list-style: none
              white-space: nowrap
              a
                padding: 0.25rem

// Mobile Menu Button
.mobile-button
  display: none
  @media #{$large}
    +fb(center, center)

// Mobile Menu Styling
.mobile-menu
  position: fixed
  z-index: -1
  padding: 10rem 2rem 2rem
  +fb(center, flex-end)
  top: 0
  left: 0
  width: 100%
  height: 100vh
  // transformation here
  transform: translateX(-100%)
  overflow: auto
  background-color: #f7f7f7
  text-align: right
  transition: 0.5s
  .menu-container
    position: relative
    padding-bottom: 2rem
    height: 100%
    overflow: auto
  .menu
    display: block
    padding: 0
    margin-bottom: 0
    list-style: none
    .menu-item
      padding: 0.25rem 1rem
      a
        font-size: 1.25rem
        font-weight: 300
        color: $color1
        &:focus
          font-weight: 700
      .fas
        display: none
      .sub-menu
        padding: 0
        list-style: none
        .menu-item
          padding: 0
          a
            color: $color2
            font-size: 0.85rem
            &:focus
              font-weight: 700
    .menu-item-has-children
      a
        color: transparentize($color1, 0.5)

.mobile-menu.active
  transform: translateX(0)
  box-shadow: -2px 0 10px rgba(0,0,0,0.1)

// stops container from scrolling while menu is active
.mobileScroll
  overflow-y: hidden

// mobile menu button that changes to X
.bar.active
  background-color: black !important

.bar
  background-color: black
  height: 4px
  width: 2rem
  margin-bottom: 5px
  transition: 0.25s
  &:last-child
    margin-bottom: 0

.bar1.change
  animation: 0.25s changeOne forwards
.bar1.back
  animation: 0.25s backOne forwards

.bar2.change
  opacity: 0

.bar3.change
  animation: 0.25s changeThree forwards
.bar3.back
  animation: 0.25s backThree forwards

@keyframes changeOne
  0%
    transform: none
  50%
    transform: translateY(9px)
  100%
    transform: translateY(9px) rotate(-45deg)

@keyframes backOne
  0%
    transform: translateY(9px) rotate(-45deg)
  50%
    transform: translateY(9px) rotate(0)
  100%
    transform: translateY(0)

@keyframes changeThree
  0%
    transform: none
  50%
    transform: translateY(-9px)
  100%
    transform: translateY(-9px) rotate(45deg)

@keyframes backThree
  0%
    transform: translateY(-9px) rotate(45deg)
  50%
    transform: translateY(-9px) rotate(0)
  100%
    transform: translateY(0)
